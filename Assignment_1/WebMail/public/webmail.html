<!DOCTYPE html>
<html>
<head>
<title>My web mail</title>

<style type="text/css" >

  #mailBox{
    text-align: center;
    overflow: auto;
    display: inline-block;
    height: auto;
    width: 100px;
    margin-left: 0px;
    float: left;
    border-style: solid;
    border-color: black;
  }
  #email{
    text-align: center;
    display:inline-block;
    overflow: auto;
    height: auto;
    margin-left: 5px;
    margin-right:auto;
    padding-right: 10px;
    padding-left: 10px;
    padding-top: 10px;
    padding-bottom: 10px;
    position: static;
    border-style: solid;
    border-color: black;
  }
  #heading{
    text-align: center;
  }



</style>

</head>
<body  onload="LoadInbox('Inbox');">

<header id="heading">
<h1>Uzair Email Service</h1>
</header>

<div id="function">
<button type="button" id="Compose">
  Compose
</button>
<button type="button" id="Move">
  Move to...
</button>
<button type="button" id="left">
  <
</button>
<button type="button" id="right">
  >
</button>

</div>

<nav id="mailBox">
  <div id="Inbox" onclick="LoadInbox('Inbox');">Inbox</div>
  <div id="Important" onclick="LoadInbox('Important');">Important</div>
  <div id="Sent" onclick="LoadInbox('Sent');">Sent</div>
  <div id="Trash" onclick="LoadInbox('Trash');">Trash</div>
</nav>

<div id="email">
</div>


<script>
  //auxillary function for generating the HTML content
  function ResHTML(docs) {
    var response_string = "";
    for (var i = 0; i < docs.length; i++) {
      var email = docs[i];
      response_string += "<div><input type=\"checkbox\" name="+email['_id']+">";
      response_string += email['sender'] + " " + email['title'] + " " + email['time'];
      response_string += "</input></div>";
    }
    return response_string;
  }

  function LoadInbox(poh){
    var xmlhttp = new XMLHttpRequest();
    var holder={};
    xmlhttp.onreadystatechange = function(){
      if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
        holder = xml.responseText
      }
    }

    document.getElementById("email").innerHTML = ResHTML(holder);

    xmlhttp.open("GET","inbox?mailBox=" + poh,true);
    xmlhttp.send();
  }


</script>
</body>
</html>
